<template>
  <div class="home uno-center uno-w-750">
    <div @click="onClick">组件</div>
    <div @click="onClick">{{ $t('tabbar.home.text') }}</div>
    <button @click="onC">切换语言</button>
    <button @click="onClick2">modal</button>
  </div>
</template>

<script setup lang="ts">
  import type { Store } from '@/stores/types'

  import { showModal } from '@/utils/uni'
  import { useI18n } from 'vue-i18n'
  import { useStoreUserSettings } from '@/stores/modules/useStoreUserSettings'
  import { useUpdateNavigationBarTitle } from '@/hooks/useUpdateNavigationBarTitle'

  const { locale } = useI18n()

  const onClick = () => {
    uni.navigateTo({
      url: '/pages/packageComponents/dashboard/dashboard'
    })
  }

  const onC = () => {
    locale.value = locale.value === 'ja' ? 'zh-Hans' : 'ja'

    useStoreUserSettings().updateStoreUserSettingsLanguage(locale.value as Store.UserSettings['language'])
  }

  const onClick2 = () => {
    showModal('hahhahaha')
  }

  onShow(() => {
    useUpdateNavigationBarTitle()
  })
</script>

<style lang="scss" scoped>
  .home {
    background-color: $color-primary;
    // @include textOverflow(1);
  }
</style>
